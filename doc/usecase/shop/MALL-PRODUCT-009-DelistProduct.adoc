[cols="1a"]
|===

|
[frame="none"]
[cols="1,1"]
!===
! 用例编号：MALL-PRODUCT-009
! 用例名称：下架商品 (Delist Product)

|
[frame="none"]
[cols="1", options="header"]
!===
! 级别: 用户目标 (User Goal)
!===

|
[frame="none"]
[cols="2"]
!===
! 包： 商品 (Product)
! 参与者：商户 (Merchant)
!===

|
[frame="none"]
[cols="1"]
!===
! 描述： 商户想要将某商品下架,使得顾客不能购买此商品 (The merchant wants to delist a product so that customers cannot purchase it.)
! 触发事件: 商户主动使某商品下架 (The merchant actively delists a product.)
!===

|
[frame="none"]
[cols="1", options="header"]
!===
! 主成功场景
!===

|
[frame="none"]
[cols="1,4,2", options="header"]
!===
! 步骤 ! 描述 ! 信息

! 1
! 系统展示本店铺当前所有有效的商品销售(已经开始和未开始的销售)
! 商品名称、销售起止时间、销售类型、数量、价格

! 2
! 商户选择其中某个商品销售下架
!

! 3
! 系统将该销售的结束时间改为当前时间
!
!===

|
[frame="none"]
[cols="1", options="header"]
!===
! 扩展场景
!===

|
[frame="none"]
[cols="1,4,2", options="header"]

!===
! 步骤 ! 描述 ! 信息

! 3a
! 商品的销售类型为预售且当前时间大于开始时间
!

! 3a.1
! 系统提示是否取消所有未付尾款的订单,并将已支付的定金全部退回
!

! 3a.2
! 用户选择取消所有订单
!

! 3a.2a
! 用户选择不取消订单
!

! 3a.2a.1
! 系统不取消订单,顾客可以继续支付尾款
!

! 3a.3
! 系统取消订单,退回定金
!
!===

|
[frame="none"]
[cols="1"]
!===
! 其他:
商户下架商品的权限应该受到系统的访问控制和权限管理的限制,确保只有具备相应权限的商户才能进行商品下架操作。
商户在下架商品前,应该考虑对现有订单的影响,特别是预售商品的定金处理问题。
对于预售商品,系统需要根据商户的选择决定是否取消未完成支付的订单并退还定金。
!===
|===

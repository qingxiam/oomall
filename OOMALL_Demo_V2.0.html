<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•†æˆ·è´¦æˆ·ç®¡ç†ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        .container {
            display: flex;
            width: 100vw;
            height: 100vh;
            max-width: 100%;
            max-height: 100%;
        }

        /* å·¦ä¾§å¯¼èˆªæ  */
        .sidebar {
            width: 20%;
            min-width: 180px;
            max-width: 220px;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 15px;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            overflow-y: auto;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .back-arrow {
            width: 24px;
            height: 24px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            cursor: pointer;
            font-size: 12px;
        }

        .nav-title {
            font-size: 16px;
            font-weight: bold;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            margin: 10px 0;
            padding: 10px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            font-size: 14px;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.1);
        }

        .nav-item.active {
            background: rgba(255,255,255,0.2);
            font-weight: bold;
        }

        .nav-icon {
            width: 16px;
            height: 16px;
            margin-right: 8px;
            background: rgba(255,255,255,0.8);
            border-radius: 3px;
        }

        /* ä¸»å†…å®¹åŒºåŸŸ */
        .main-content {
            flex: 1;
            background: white;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
            flex-shrink: 0;
        }

        .search-box {
            display: flex;
            align-items: center;
            background: #f8f8f8;
            padding: 8px 12px;
            border-radius: 20px;
            border: 1px solid #ddd;
        }

        .search-input {
            border: none;
            background: none;
            outline: none;
            margin-left: 8px;
            width: 160px;
            font-size: 14px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .welcome-text {
            color: #666;
            font-size: 14px;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #4CAF50;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        /* é¡µé¢æ ‡é¢˜ */
        .page-title {
            font-size: 24px;
            color: #333;
            margin-bottom: 8px;
        }

        .page-subtitle {
            display: flex;
            align-items: center;
            color: #666;
            font-size: 14px;
        }

        .subtitle-icon {
            width: 16px;
            height: 16px;
            background: #4CAF50;
            border-radius: 3px;
            margin-right: 8px;
        }

        /* è¡¨å•åŒºåŸŸ */
        .form-section {
            background: #fafafa;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #eee;
            flex: 1;
        }

        .form-title {
            font-size: 18px;
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .form-title-icon {
            width: 20px;
            height: 20px;
            background: #4CAF50;
            border-radius: 4px;
            margin-right: 8px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            font-weight: bold;
            color: #555;
            margin-bottom: 6px;
            font-size: 14px;
        }

        .form-input {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 13px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .form-buttons {
            display: flex;
            gap: 12px;
            margin-top: 15px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 13px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #4CAF50;
            color: white;
        }

        .btn-primary:hover {
            background: #45a049;
        }

        .btn-secondary {
            background: #f44336;
            color: white;
        }

        .btn-secondary:hover {
            background: #da190b;
        }

        .btn-warning {
            background: #ff9800;
            color: white;
        }

        .btn-warning:hover {
            background: #e68900;
        }


        /* éšè—é¡µé¢ */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                min-width: auto;
                max-width: none;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
        }

        /* å¼¹çª—æ ·å¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: white;
            border-radius: 10px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: scale(0.8);
            transition: transform 0.3s ease;
        }

        .modal-overlay.show .modal {
            transform: scale(1);
        }

        .modal-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #4CAF50;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 24px;
            color: white;
        }

        .modal-icon.success {
            background: #4CAF50;
        }

        .modal-icon.warning {
            background: #ff9800;
        }

        .modal-icon.danger {
            background: #f44336;
        }

        .modal-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
        }

        .modal-message {
            font-size: 16px;
            color: #666;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .modal-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            min-width: 100px;
        }

        .modal-btn-primary {
            background: #4CAF50;
            color: white;
        }

        .modal-btn-primary:hover {
            background: #45a049;
        }

        .modal-btn-secondary {
            background: #f5f5f5;
            color: #666;
            border: 1px solid #ddd;
        }

        .modal-btn-secondary:hover {
            background: #e9e9e9;
        }

        /* ç™»å½•é¡µé¢æ ·å¼ */
        .login-container {
            display: flex;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            align-items: center;
            justify-content: center;
        }

        .login-card {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 450px;
            text-align: center;
        }

        .login-logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            font-size: 32px;
            color: white;
        }

        .login-title {
            font-size: 28px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .login-subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 16px;
        }

        .role-selection {
            margin-bottom: 25px;
        }

        .role-label {
            display: block;
            font-weight: bold;
            color: #555;
            margin-bottom: 10px;
            text-align: left;
        }

        .role-dropdown {
            position: relative;
            width: 100%;
        }

        .role-select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s ease;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            padding-right: 40px;
        }

        .role-select:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .role-select:hover {
            border-color: #4CAF50;
        }

        .login-form {
            text-align: left;
        }

        .form-group-login {
            margin-bottom: 20px;
        }

        .form-label-login {
            display: block;
            font-weight: bold;
            color: #555;
            margin-bottom: 8px;
        }

        .form-input-login {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
        }

        .form-input-login:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .login-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .login-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .login-footer {
            margin-top: 20px;
            color: #999;
            font-size: 12px;
        }

        /* å•†å“ç®¡ç†æ ·å¼ */
        .product-filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            min-width: 120px;
        }

        .filter-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }

        .filter-select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 13px;
            background: white;
        }

        .product-search {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }

        .search-input-product {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .search-btn {
            padding: 10px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }

        .search-btn:hover {
            background: #45a049;
        }

        .product-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            background: white;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .product-table th {
            background: #f8f9fa;
            padding: 12px;
            text-align: left;
            font-weight: bold;
            color: #333;
            border-bottom: 1px solid #ddd;
            font-size: 14px;
        }

        .product-table td {
            padding: 12px;
            border-bottom: 1px solid #eee;
            font-size: 13px;
        }

        .product-table tr:hover {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }

        .status-approved {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-rejected {
            background: #f8d7da;
            color: #721c24;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .btn-edit {
            padding: 6px 12px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .btn-edit:hover {
            background: #0056b3;
        }

        .btn-delete {
            padding: 6px 12px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .btn-delete:hover {
            background: #c82333;
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
        }

        .pagination button {
            padding: 8px 12px;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            border-radius: 4px;
            font-size: 13px;
        }

        .pagination button:hover {
            background: #f8f9fa;
        }

        .pagination button.active {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }

        .pagination button:disabled {
            background: #f8f9fa;
            color: #999;
            cursor: not-allowed;
        }

        .add-product-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
            transition: all 0.3s ease;
        }

        .add-product-btn:hover {
            background: #45a049;
            transform: scale(1.1);
        }

        /* é’ˆå¯¹509mmÃ—286mmæ¯”ä¾‹çš„ä¼˜åŒ– */
        @media (min-aspect-ratio: 16/9) {
            .sidebar {
                width: 18%;
                min-width: 160px;
                max-width: 200px;
            }
            
            .main-content {
                padding: 15px;
            }
            
            .form-section {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- ç™»å½•é¡µé¢ -->
    <div id="loginPage" class="login-container">
        <div class="login-card">
            <div class="login-logo">ğŸª</div>
            <h1 class="login-title">å•†æˆ·ç®¡ç†ç³»ç»Ÿ</h1>
            <p class="login-subtitle">è¯·é€‰æ‹©æ‚¨çš„è§’è‰²å¹¶ç™»å½•</p>
            
            <div class="role-selection">
                <label class="role-label">é€‰æ‹©è§’è‰²</label>
                <div class="role-dropdown">
                    <select class="role-select" id="roleSelect" onchange="selectRole(this.value)">
                        <option value="">è¯·é€‰æ‹©è§’è‰²</option>
                        <option value="merchant">å•†æˆ·</option>
                        <option value="service-provider">æœåŠ¡å•†</option>
                        <option value="platform-admin">å¹³å°ç®¡ç†äººå‘˜</option>
                        <option value="repair-provider">ç»´ä¿®å•†</option>
                    </select>
                </div>
            </div>
            
            <form class="login-form" onsubmit="handleLogin(event)">
                <div class="form-group-login">
                    <label class="form-label-login">ç”¨æˆ·å</label>
                    <input type="text" class="form-input-login" id="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" required>
                </div>
                
                <div class="form-group-login">
                    <label class="form-label-login">å¯†ç </label>
                    <input type="password" class="form-input-login" id="password" placeholder="è¯·è¾“å…¥å¯†ç " required>
                </div>
                
                <button type="submit" class="login-btn" id="loginBtn" disabled>
                    ç™»å½•
                </button>
            </form>
            
            <div class="login-footer">
                <p>Â© 2024 å•†æˆ·ç®¡ç†ç³»ç»Ÿ. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
            </div>
        </div>
    </div>

    <!-- ä¸»åº”ç”¨é¡µé¢ -->
    <div id="mainApp" class="container" style="display: none;">
        <!-- å·¦ä¾§å¯¼èˆªæ  -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="back-arrow">â†</div>
                <div class="nav-title">å¯¼èˆª</div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item" onclick="showPage('account-opening')">
                    <div class="nav-icon"></div>
                    å•†æˆ·å¼€æˆ·
                </li>
                <li class="nav-item" onclick="showPage('account-info')">
                    <div class="nav-icon"></div>
                    ç®¡ç†è´¦å·
                </li>
                <li class="nav-item active" onclick="showPage('products')">
                    <div class="nav-icon"></div>
                    ç®¡ç†å•†å“
                </li>
                <li class="nav-item" onclick="showPage('activities')">
                    <div class="nav-icon"></div>
                    ç®¡ç†æ´»åŠ¨
                </li>
                <li class="nav-item" onclick="showPage('service-providers')">
                    <div class="nav-icon"></div>
                    ç®¡ç†æœåŠ¡å•†
                </li>
                <li class="nav-item" onclick="showPage('orders')">
                    <div class="nav-icon"></div>
                    ç®¡ç†è®¢å•
                </li>
                <li class="nav-item" onclick="showPage('sales')">
                    <div class="nav-icon"></div>
                    é”€å”®æƒ…å†µ
                </li>
                <li class="nav-item" onclick="showPage('after-sales')">
                    <div class="nav-icon"></div>
                    ç®¡ç†å”®å
                </li>
            </ul>
        </div>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <div class="main-content">
            <!-- å¤´éƒ¨ -->
            <div class="header">
                <div class="search-box">
                    <span>ğŸ”</span>
                    <input type="text" class="search-input" placeholder="è¾“å…¥æœç´¢å…³é”®è¯">
                </div>
                <div class="user-info">
                    <span class="welcome-text" id="welcomeText">æ¬¢è¿ä½ ! å•†æˆ·</span>
                    <span>â–¼</span>
                    <div class="user-avatar" onclick="logout()" title="é€€å‡ºç™»å½•">ğŸ§</div>
                </div>
            </div>

            <!-- é¡µé¢å†…å®¹ -->
            <!-- ç®¡ç†å•†å“ä¸»é¡µé¢ -->
            <div id="products" class="page active">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <div>
                        <h1 class="page-title">ç®¡ç†å•†å“</h1>
                        <div class="page-subtitle">
                            <div class="subtitle-icon"></div>
                            å•†å“ç®¡ç†
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="showPage('apply-new-product')" style="margin: 0;">
                        + æ–°å¢å•†å“
                    </button>
                </div>

                <!-- ç­›é€‰å™¨ -->
                <div class="product-filters">
                    <div class="filter-group">
                        <label class="filter-label">å•†å“çŠ¶æ€</label>
                        <select class="filter-select" id="statusFilter">
                            <option value="">å…¨éƒ¨çŠ¶æ€</option>
                            <option value="approved">å·²å®¡æ ¸</option>
                            <option value="pending">å®¡æ ¸ä¸­</option>
                            <option value="rejected">æœªå®¡æ ¸</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">å•†å“ç±»åˆ«</label>
                        <select class="filter-select" id="categoryFilter">
                            <option value="">å…¨éƒ¨ç±»åˆ«</option>
                            <option value="electronics">ç”µå­äº§å“</option>
                            <option value="clothing">æœè£…</option>
                            <option value="food">é£Ÿå“</option>
                            <option value="books">å›¾ä¹¦</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">ä»·æ ¼èŒƒå›´</label>
                        <select class="filter-select" id="priceFilter">
                            <option value="">å…¨éƒ¨ä»·æ ¼</option>
                            <option value="0-100">0-100å…ƒ</option>
                            <option value="100-500">100-500å…ƒ</option>
                            <option value="500-1000">500-1000å…ƒ</option>
                            <option value="1000+">1000å…ƒä»¥ä¸Š</option>
                        </select>
                    </div>
                </div>

                <!-- æœç´¢æ¡† -->
                <div class="product-search">
                    <input type="text" class="search-input-product" placeholder="è¾“å…¥å•†å“åç§°æˆ–ç¼–å·" id="productSearchInput">
                    <button class="search-btn" onclick="searchProducts()">æœç´¢</button>
                </div>

                <!-- å•†å“åˆ—è¡¨è¡¨æ ¼ -->
                <table class="product-table">
                    <thead>
                        <tr>
                            <th>å•†å“åç§°</th>
                            <th>å•†å“ç¼–å·</th>
                            <th>ä»·æ ¼</th>
                            <th>å•†å“ç±»å‹</th>
                            <th>å®¡æ ¸çŠ¶æ€</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="productTableBody">
                        <tr>
                            <td>iPhone 15 Pro</td>
                            <td>P001</td>
                            <td>Â¥8,999</td>
                            <td>ç”µå­äº§å“</td>
                            <td><span class="status-badge status-approved">å·²å®¡æ ¸</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn-edit" onclick="showPage('apply-product-change')">å˜æ›´å•†å“</button>
                                    <button class="btn-edit" onclick="showPage('modify-product-attributes')">ä¿®æ”¹å•†å“å±æ€§</button>
                                    <button class="btn-delete" onclick="deleteProduct('P001')">åˆ é™¤</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Nikeè¿åŠ¨é‹</td>
                            <td>P002</td>
                            <td>Â¥599</td>
                            <td>æœè£…</td>
                            <td><span class="status-badge status-pending">å®¡æ ¸ä¸­</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn-edit" onclick="showPage('apply-product-change')">å˜æ›´å•†å“</button>
                                    <button class="btn-edit" onclick="showPage('modify-product-attributes')">ä¿®æ”¹å•†å“å±æ€§</button>
                                    <button class="btn-delete" onclick="deleteProduct('P002')">åˆ é™¤</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>æœ‰æœºè‹¹æœ</td>
                            <td>P003</td>
                            <td>Â¥29.9</td>
                            <td>é£Ÿå“</td>
                            <td><span class="status-badge status-rejected">æœªå®¡æ ¸</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn-edit" onclick="showPage('apply-product-change')">å˜æ›´å•†å“</button>
                                    <button class="btn-edit" onclick="showPage('modify-product-attributes')">ä¿®æ”¹å•†å“å±æ€§</button>
                                    <button class="btn-delete" onclick="deleteProduct('P003')">åˆ é™¤</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <!-- åˆ†é¡µ -->
                <div class="pagination">
                    <button onclick="changePage(-1)" disabled>ä¸Šä¸€é¡µ</button>
                    <button class="active">1</button>
                    <button onclick="changePage(1)">2</button>
                    <button onclick="changePage(1)">3</button>
                    <button onclick="changePage(1)">ä¸‹ä¸€é¡µ</button>
                </div>

            </div>

            <!-- å•†å“æœç´¢ç»“æœé¡µé¢ -->
            <div id="product-search-results" class="page">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <div>
                        <h1 class="page-title">ç®¡ç†å•†å“</h1>
                        <div class="page-subtitle">
                            <div class="subtitle-icon"></div>
                            å•†å“ç®¡ç†
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="showPage('apply-new-product')" style="margin: 0;">
                        + æ–°å¢å•†å“
                    </button>
                </div>

                <!-- ç­›é€‰å™¨ -->
                <div class="product-filters">
                    <div class="filter-group">
                        <label class="filter-label">å•†å“çŠ¶æ€</label>
                        <select class="filter-select" id="searchStatusFilter">
                            <option value="approved">å®¡æ ¸é€šè¿‡</option>
                            <option value="pending">å®¡æ ¸ä¸­</option>
                            <option value="rejected">æœªå®¡æ ¸</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">å•†å“ç±»åˆ«</label>
                        <select class="filter-select" id="searchCategoryFilter">
                            <option value="food">é£Ÿå“</option>
                            <option value="electronics">ç”µå­äº§å“</option>
                            <option value="clothing">æœè£…</option>
                            <option value="books">å›¾ä¹¦</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">ä»·æ ¼</label>
                        <select class="filter-select" id="searchPriceFilter">
                            <option value="desc">é™åº</option>
                            <option value="asc">å‡åº</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <button class="search-btn" style="margin-top: 20px;">ç­›é€‰</button>
                    </div>
                </div>

                <!-- æœç´¢ç»“æœæœç´¢æ¡† -->
                <div class="product-search" style="margin-bottom: 20px;">
                    <input type="text" class="search-input-product" placeholder="å¦é—¨" id="searchResultsInput" value="å¦é—¨">
                    <button class="search-btn" onclick="searchProductsFromResults()">æœç´¢</button>
                </div>

                <!-- è¿”å›æŒ‰é’®å’Œæœç´¢ç»“æœä¿¡æ¯ -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <button class="btn btn-secondary" onclick="showPage('products')" style="margin: 0; padding: 8px 16px; font-size: 13px;">
                        â† è¿”å›å•†å“åˆ—è¡¨
                    </button>
                    <div style="color: #666; font-size: 14px;">
                        å·²ä¸ºæ‚¨æ‰¾åˆ°ä¸€ç§å•†å“:
                    </div>
                </div>

                <!-- æœç´¢ç»“æœè¡¨æ ¼ -->
                <table class="product-table">
                    <thead>
                        <tr>
                            <th>å•†å“åç§°</th>
                            <th>ç¼–å·</th>
                            <th>ä»·æ ¼(CNY)</th>
                            <th>å•†å“ç±»å‹</th>
                            <th>å®¡æ ¸çŠ¶æ€</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <div style="width: 40px; height: 40px; background: #ff6b6b; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px;">ğŸ…</div>
                                    <span>å¦é—¨è¥¿çº¢æŸ¿</span>
                                </div>
                            </td>
                            <td>600123</td>
                            <td>100.00</td>
                            <td>é£Ÿå“</td>
                            <td><span class="status-badge status-approved">å·²é€šè¿‡</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn-edit" onclick="showPage('apply-product-change')">å˜æ›´å•†å“</button>
                                    <button class="btn-edit" onclick="showPage('modify-product-attributes')">ä¿®æ”¹å•†å“å±æ€§</button>
                                    <button class="btn-delete" onclick="deleteProduct('600123')">åˆ é™¤</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <!-- åˆ†é¡µ -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px;">
                    <div style="display: flex; align-items: center; gap: 10px; color: #666; font-size: 14px;">
                        <span>æ˜¾ç¤ºç»“æœ:</span>
                        <select style="padding: 4px 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option>1</option>
                            <option>10</option>
                            <option>20</option>
                            <option>50</option>
                        </select>
                    </div>
                    <div class="pagination">
                        <button disabled>â†</button>
                        <button class="active">1</button>
                        <button>â†’</button>
                    </div>
                </div>
            </div>

            <div id="account-info" class="page">
                <h1 class="page-title">è´¦æˆ·ä¿¡æ¯</h1>
                <div class="page-subtitle">
                    <div class="subtitle-icon"></div>
                    ç®¡ç†è´¦å·
                </div>

                <div class="form-section">
                    <h2 class="form-title">
                        <div class="form-title-icon"></div>
                        è´¦æˆ·ä¿¡æ¯
                    </h2>
                    <div class="form-grid">
                        <!-- å·¦åˆ— -->
                        <div class="form-group">
                            <label class="form-label">å•†æˆ·åç§°</label>
                            <input type="text" class="form-input" value="è±ªå®¢æ¥å•†åº—">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•†å“æ•°é‡ä¸Šé™ (ä»¶)</label>
                            <input type="number" class="form-input" value="100">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å‘˜å·¥æ•°é‡ä¸Šé™ (äºº)</label>
                            <input type="number" class="form-input" value="100">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å…é‚®é—¨æ§›</label>
                            <input type="text" class="form-input" value="20(CNY)">
                        </div>
                        
                        <!-- å³åˆ— -->
                        <div class="form-group">
                            <label class="form-label">æ³•äººå§“å</label>
                            <input type="text" class="form-input" value="å¼ ä¸‰">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•†æˆ·åœ°å€</label>
                            <input type="text" class="form-input" value="ç¦å»ºçœå¦é—¨å¸‚ç¿”å®‰åŒº">
                        </div>
                        <div class="form-group">
                            <label class="form-label">è”ç³»ç”µè¯</label>
                            <input type="tel" class="form-input" value="123456789">
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button class="btn btn-primary" onclick="showPage('modify-account')">ä¿®æ”¹è´¦æˆ·ä¿¡æ¯</button>
                        <button class="btn btn-primary" onclick="showPage('modify-attributes')">ä¿®æ”¹è´¦æˆ·å±æ€§</button>
                    </div>
                </div>


                <div class="form-buttons" style="margin-top: 30px; justify-content: flex-end;">
                    <button class="btn btn-warning" onclick="showPage('suspend-account')">æš‚åœè´¦æˆ·</button>
                    <button class="btn btn-secondary" onclick="showPage('cancel-account')">æ³¨é”€è´¦æˆ·</button>
                </div>
            </div>

            <!-- å¼€æˆ·é¡µé¢ (MALL-SHOP-001) -->
            <div id="account-opening" class="page">
                <h1 class="page-title">å•†æˆ·å¼€æˆ·ç”³è¯·</h1>
                <div class="page-subtitle">
                    <div class="subtitle-icon"></div>
                    åˆ›å»ºæ–°å•†æˆ·è´¦æˆ·
                </div>

                <div class="form-section">
                    <h2 class="form-title">
                        <div class="form-title-icon"></div>
                        å¼€æˆ·ç”³è¯·ä¿¡æ¯
                    </h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">å•†æˆ·åç§° *</label>
                            <input type="text" class="form-input" placeholder="è¯·è¾“å…¥å•†æˆ·åç§°" id="merchantName">
                        </div>
                        <div class="form-group">
                            <label class="form-label">è”ç³»äººå§“å *</label>
                            <input type="text" class="form-input" placeholder="è¯·è¾“å…¥è”ç³»äººå§“å" id="contactName">
                        </div>
                        <div class="form-group">
                            <label class="form-label">è”ç³»ç”µè¯ *</label>
                            <input type="tel" class="form-input" placeholder="è¯·è¾“å…¥è”ç³»ç”µè¯" id="contactPhone">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•†æˆ·åœ°å€ *</label>
                            <input type="text" class="form-input" placeholder="è¯·è¾“å…¥å•†æˆ·åœ°å€" id="merchantAddress">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•†å“æ•°ç›®ä¸Šé™ *</label>
                            <input type="number" class="form-input" placeholder="è¯·è¾“å…¥å•†å“æ•°ç›®ä¸Šé™" id="productLimit">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•†æˆ·å‘˜å·¥ä¸Šé™ *</label>
                            <input type="number" class="form-input" placeholder="è¯·è¾“å…¥å•†æˆ·å‘˜å·¥ä¸Šé™" id="employeeLimit">
                        </div>
                    </div>
                    
                    <!-- é‡è¦æç¤º -->
                    <div style="background: #e3f2fd; padding: 15px; border-radius: 6px; border: 1px solid #bbdefb; margin: 20px 0;">
                        <p style="color: #1976d2; margin: 0; font-size: 14px;">
                            <strong>ğŸ“‹ é‡è¦æç¤ºï¼š</strong>ç”¨æˆ·å¼€æˆ·å‰éœ€å…ˆæ³¨å†Œç³»ç»Ÿç”¨æˆ·ï¼Œè¯·ç¡®ä¿æ‚¨å·²å®Œæˆç³»ç»Ÿç”¨æˆ·æ³¨å†Œã€‚
                        </p>
                    </div>
                    
                    <div class="form-buttons">
                        <button class="btn btn-primary" onclick="submitAccountOpening()">æäº¤å¼€æˆ·ç”³è¯·</button>
                        <button class="btn btn-secondary" onclick="showPage('account-info')">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>

            <!-- ç”³è¯·æ–°å¢å•†å“é¡µé¢ (MALL-PRODUCT-004) -->
            <div id="apply-new-product" class="page">
                <h1 class="page-title">ç”³è¯·æ–°å¢å•†å“</h1>
                <div class="page-subtitle">
                    <div class="subtitle-icon"></div>
                    æ–°å¢å•†å“ç”³è¯·
                </div>

                <div class="form-section">
                    <h2 class="form-title">
                        <div class="form-title-icon"></div>
                        å•†å“åŸºæœ¬ä¿¡æ¯
                    </h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">å•†å“åˆ†ç±» *</label>
                            <select class="form-input" id="productCategory">
                                <option value="">è¯·é€‰æ‹©å•†å“åˆ†ç±»</option>
                                <option value="electronics">ç”µå­äº§å“</option>
                                <option value="clothing">æœè£…</option>
                                <option value="food">é£Ÿå“</option>
                                <option value="books">å›¾ä¹¦</option>
                                <option value="home">å®¶å±…ç”¨å“</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•†å“åç§° *</label>
                            <input type="text" class="form-input" id="productName" placeholder="è¯·è¾“å…¥å•†å“åç§°">
                        </div>
                        <div class="form-group">
                            <label class="form-label">åŸä»· *</label>
                            <input type="number" class="form-input" id="originalPrice" placeholder="è¯·è¾“å…¥åŸä»·">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•ä½ *</label>
                            <input type="text" class="form-input" id="unit" placeholder="è¯·è¾“å…¥å•ä½">
                        </div>
                        <div class="form-group">
                            <label class="form-label">äº§åœ° *</label>
                            <input type="text" class="form-input" id="origin" placeholder="è¯·è¾“å…¥äº§åœ°">
                        </div>
                        <div class="form-group">
                            <label class="form-label">æ¡ç  *</label>
                            <input type="text" class="form-input" id="barcode" placeholder="è¯·è¾“å…¥æ¡ç ">
                        </div>
                        <div class="form-group">
                            <label class="form-label">åˆ†è´¦æ¯”ä¾‹ *</label>
                            <input type="number" class="form-input" id="revenueShareRatio" placeholder="è¯·è¾“å…¥åˆ†è´¦æ¯”ä¾‹(%)" min="0" max="100">
                        </div>
                    </div>
                    
                    <!-- å•†å“ç±»å‹é€‰æ‹© -->
                    <div style="margin: 20px 0;">
                        <label class="form-label">å•†å“ç±»å‹</label>
                        <div style="display: flex; gap: 20px; margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="radio" name="productType" value="normal" checked onchange="toggleBundleOptions(false)">
                                æ™®é€šå•†å“
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="radio" name="productType" value="bundle" onchange="toggleBundleOptions(true)">
                                æ†ç»‘å•†å“
                            </label>
                        </div>
                    </div>

                    <!-- æ†ç»‘å•†å“é€‰é¡¹ -->
                    <div id="bundleOptions" style="display: none; margin: 20px 0;">
                        <h3 style="color: #333; margin-bottom: 15px;">æ†ç»‘å•†å“é…ç½®</h3>
                        <div class="form-group">
                            <label class="form-label">é€‰æ‹©å•†å“</label>
                            <select class="form-input" id="bundleProductSelect" multiple style="height: 120px;">
                                <option value="P001">iPhone 15 Pro</option>
                                <option value="P002">Nikeè¿åŠ¨é‹</option>
                                <option value="P003">æœ‰æœºè‹¹æœ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">æ†ç»‘ä¸­æ¯ä¸ªå•†å“æ•°é‡</label>
                            <input type="text" class="form-input" id="bundleQuantities" placeholder="ä¾‹å¦‚ï¼š2,1,3">
                        </div>
                        <div class="form-group">
                            <label class="form-label">æ†ç»‘ä¸­å•†å“é—´åˆ†è´¦æ¯”ä¾‹</label>
                            <input type="text" class="form-input" id="bundleShareRatios" placeholder="ä¾‹å¦‚ï¼š50,30,20">
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button class="btn btn-primary" onclick="submitNewProduct()">æäº¤ç”³è¯·</button>
                        <button class="btn btn-secondary" onclick="showPage('products')">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>

            <!-- é”€æˆ·é¡µé¢ (MALL-SHOP-002) -->
            <div id="account-cancellation" class="page">
                <h1 class="page-title">è´¦æˆ·æ³¨é”€ç”³è¯·</h1>
                <div class="page-subtitle">
                    <div class="subtitle-icon"></div>
                    æ³¨é”€å•†æˆ·è´¦æˆ·
                </div>

                <div class="form-section">
                    <h2 class="form-title">
                        <div class="form-title-icon"></div>
                        æ³¨é”€ç”³è¯·ä¿¡æ¯
                    </h2>
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label class="form-label">æ³¨é”€åŸå›  *</label>
                            <textarea class="form-input" rows="4" placeholder="è¯·è¯¦ç»†è¯´æ˜æ³¨é”€åŸå› "></textarea>
                        </div>
                        <div class="form-group full-width">
                            <label class="form-label">ç¡®è®¤ä¿¡æ¯</label>
                            <div style="background: #fff3cd; padding: 15px; border-radius: 6px; border: 1px solid #ffeaa7;">
                                <p style="color: #856404; margin-bottom: 10px;"><strong>âš ï¸ é‡è¦æé†’ï¼š</strong></p>
                                <ul style="color: #856404; margin-left: 20px;">
                                    <li>æ³¨é”€åè´¦æˆ·å°†æ— æ³•æ¢å¤</li>
                                    <li>è¯·ç¡®ä¿æ‰€æœ‰è®¢å•åˆ†è´¦å·²å®Œæˆ</li>
                                    <li>è¯·ç¡®ä¿å·²å¤„ç†å®Œæ‰€æœ‰å”®åé—®é¢˜</li>
                                    <li>è¯·ç¡®ä¿å·²å¤‡ä»½é‡è¦æ•°æ®</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button class="btn btn-secondary" onclick="submitAccountCancellation()">æäº¤æ³¨é”€ç”³è¯·</button>
                        <button class="btn btn-primary" onclick="showPage('account-info')">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>

            <!-- ç”³è¯·å˜æ›´å•†å“é¡µé¢ (MALL-PRODUCT-005) -->
            <div id="apply-product-change" class="page">
                <h1 class="page-title">ç”³è¯·å˜æ›´å•†å“</h1>
                <div class="page-subtitle">
                    <div class="subtitle-icon"></div>
                    å•†å“å˜æ›´ç”³è¯·
                </div>

                <div class="form-section">
                    <h2 class="form-title">
                        <div class="form-title-icon"></div>
                        é€‰æ‹©è¦å˜æ›´çš„å•†å“
                    </h2>
                    <div class="form-group">
                        <label class="form-label">å·²å®¡æ ¸é€šè¿‡çš„å•†å“ *</label>
                        <select class="form-input" id="changeProductSelect">
                            <option value="">è¯·é€‰æ‹©è¦å˜æ›´çš„å•†å“</option>
                            <option value="P001">iPhone 15 Pro - ç”µå­äº§å“</option>
                            <option value="P002">Nikeè¿åŠ¨é‹ - æœè£…</option>
                        </select>
                    </div>
                    
                    <h2 class="form-title" style="margin-top: 30px;">
                        <div class="form-title-icon"></div>
                        å˜æ›´å•†å“ä¿¡æ¯
                    </h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">å•†å“åˆ†ç±»</label>
                            <select class="form-input" id="changeProductCategory">
                                <option value="">è¯·é€‰æ‹©å•†å“åˆ†ç±»</option>
                                <option value="electronics">ç”µå­äº§å“</option>
                                <option value="clothing">æœè£…</option>
                                <option value="food">é£Ÿå“</option>
                                <option value="books">å›¾ä¹¦</option>
                                <option value="home">å®¶å±…ç”¨å“</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•†å“åç§°</label>
                            <input type="text" class="form-input" id="changeProductName" placeholder="è¯·è¾“å…¥å•†å“åç§°">
                        </div>
                        <div class="form-group">
                            <label class="form-label">åŸä»·</label>
                            <input type="number" class="form-input" id="changeOriginalPrice" placeholder="è¯·è¾“å…¥åŸä»·">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•ä½</label>
                            <input type="text" class="form-input" id="changeUnit" placeholder="è¯·è¾“å…¥å•ä½">
                        </div>
                        <div class="form-group">
                            <label class="form-label">äº§åœ°</label>
                            <input type="text" class="form-input" id="changeOrigin" placeholder="è¯·è¾“å…¥äº§åœ°">
                        </div>
                        <div class="form-group">
                            <label class="form-label">æ¡ç </label>
                            <input type="text" class="form-input" id="changeBarcode" placeholder="è¯·è¾“å…¥æ¡ç ">
                        </div>
                        <div class="form-group">
                            <label class="form-label">åˆ†è´¦æ¯”ä¾‹</label>
                            <input type="number" class="form-input" id="changeRevenueShareRatio" placeholder="è¯·è¾“å…¥åˆ†è´¦æ¯”ä¾‹(%)" min="0" max="100">
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button class="btn btn-primary" onclick="submitProductChange()">æäº¤å˜æ›´ç”³è¯·</button>
                        <button class="btn btn-secondary" onclick="showPage('products')">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>

            <!-- æŸ¥è¯¢å•†å“é¡µé¢ (MALL-PRODUCT-006) -->
            <div id="query-product" class="page">
                <h1 class="page-title">æŸ¥è¯¢å•†å“</h1>
                <div class="page-subtitle">
                    <div class="subtitle-icon"></div>
                    å•†å“æŸ¥è¯¢
                </div>

                <div class="form-section">
                    <h2 class="form-title">
                        <div class="form-title-icon"></div>
                        æŸ¥è¯¢æ¡ä»¶
                    </h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">å•†å“åç§°</label>
                            <input type="text" class="form-input" id="queryProductName" placeholder="è¯·è¾“å…¥å•†å“åç§°">
                        </div>
                        <div class="form-group">
                            <label class="form-label">æ¡ç </label>
                            <input type="text" class="form-input" id="queryBarcode" placeholder="è¯·è¾“å…¥æ¡ç ">
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button class="btn btn-primary" onclick="queryProducts()">æŸ¥è¯¢å•†å“</button>
                        <button class="btn btn-secondary" onclick="showPage('products')">è¿”å›</button>
                    </div>
                    
                    <!-- æŸ¥è¯¢ç»“æœ -->
                    <div id="queryResults" style="margin-top: 30px; display: none;">
                        <h2 class="form-title">
                            <div class="form-title-icon"></div>
                            æŸ¥è¯¢ç»“æœ
                        </h2>
                        <table class="product-table">
                            <thead>
                                <tr>
                                    <th>å•†å“åç§°</th>
                                    <th>å•†å“åˆ†ç±»</th>
                                    <th>åŸä»·</th>
                                    <th>å•ä½</th>
                                    <th>äº§åœ°</th>
                                    <th>æ¡ç </th>
                                    <th>åˆ†è´¦æ¯”ä¾‹</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody id="queryResultsBody">
                                <!-- æŸ¥è¯¢ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- ä¿®æ”¹å•†å“å±æ€§é¡µé¢ (MALL-PRODUCT-007) -->
            <div id="modify-product-attributes" class="page">
                <h1 class="page-title">ä¿®æ”¹å•†å“å±æ€§</h1>
                <div class="page-subtitle">
                    <div class="subtitle-icon"></div>
                    å•†å“å±æ€§ä¿®æ”¹
                </div>

                <div class="form-section">
                    <h2 class="form-title">
                        <div class="form-title-icon"></div>
                        é€‰æ‹©è¦ä¿®æ”¹çš„å•†å“
                    </h2>
                    <div class="form-group">
                        <label class="form-label">å·²å®¡æ ¸é€šè¿‡çš„å•†å“ *</label>
                        <select class="form-input" id="modifyProductSelect">
                            <option value="">è¯·é€‰æ‹©è¦ä¿®æ”¹çš„å•†å“</option>
                            <option value="P001">iPhone 15 Pro - ç”µå­äº§å“</option>
                            <option value="P002">Nikeè¿åŠ¨é‹ - æœè£…</option>
                        </select>
                    </div>
                    
                    <h2 class="form-title" style="margin-top: 30px;">
                        <div class="form-title-icon"></div>
                        ä¿®æ”¹å•†å“å±æ€§
                    </h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">ç›¸å…³å•†å“</label>
                            <input type="text" class="form-input" id="relatedProducts" placeholder="è¯·è¾“å…¥ç›¸å…³å•†å“">
                        </div>
                        <div class="form-group">
                            <label class="form-label">è¿è´¹è®¡ç®—æ–¹æ³•</label>
                            <select class="form-input" id="shippingMethod">
                                <option value="">è¯·é€‰æ‹©è¿è´¹è®¡ç®—æ–¹æ³•</option>
                                <option value="fixed">å›ºå®šè¿è´¹</option>
                                <option value="weight">æŒ‰é‡é‡è®¡ç®—</option>
                                <option value="price">æŒ‰ä»·æ ¼è®¡ç®—</option>
                                <option value="free">å…è¿è´¹</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">é…é€ç‰©æµ</label>
                            <input type="text" class="form-input" id="deliveryLogistics" placeholder="è¯·è¾“å…¥é…é€ç‰©æµ">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•†å“é‡é‡(kg)</label>
                            <input type="number" class="form-input" id="productWeight" placeholder="è¯·è¾“å…¥å•†å“é‡é‡" step="0.1">
                        </div>
                        <div class="form-group">
                            <label class="form-label">SKU</label>
                            <input type="text" class="form-input" id="productSku" placeholder="è¯·è¾“å…¥SKU">
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button class="btn btn-primary" onclick="submitProductAttributes()">æäº¤ä¿®æ”¹</button>
                        <button class="btn btn-secondary" onclick="showPage('products')">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>

            <!-- ä¿®æ”¹è´¦æˆ·é¡µé¢ (MALL-SHOP-003) -->
            <div id="modify-account" class="page">
                <h1 class="page-title">ä¿®æ”¹è´¦æˆ·ä¿¡æ¯</h1>
                <div class="page-subtitle">
                    <div class="subtitle-icon"></div>
                    ä¿®æ”¹å•†æˆ·åŸºæœ¬ä¿¡æ¯
                </div>

                <div class="form-section">
                    <h2 class="form-title">
                        <div class="form-title-icon"></div>
                        è´¦æˆ·ä¿¡æ¯ä¿®æ”¹
                    </h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">å•†æˆ·åç§° *</label>
                            <input type="text" class="form-input" value="è±ªå®¢æ¥å•†åº—">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•†å“æ•°ç›®ä¸Šé™ *</label>
                            <input type="number" class="form-input" value="100">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å•†æˆ·å‘˜å·¥ä¸Šé™ *</label>
                            <input type="number" class="form-input" value="100">
                        </div>
                        <div class="form-group full-width">
                            <label class="form-label">ä¿®æ”¹è¯´æ˜</label>
                            <textarea class="form-input" rows="3" placeholder="è¯·è¯´æ˜ä¿®æ”¹åŸå› "></textarea>
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button class="btn btn-primary" onclick="submitAccountModification()">æäº¤ä¿®æ”¹ç”³è¯·</button>
                        <button class="btn btn-secondary" onclick="showPage('account-info')">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>

            <!-- ä¿®æ”¹è´¦æˆ·å±æ€§é¡µé¢ (MALL-SHOP-004) -->
            <div id="modify-attributes" class="page">
                <h1 class="page-title">ä¿®æ”¹è´¦æˆ·å±æ€§</h1>
                <div class="page-subtitle">
                    <div class="subtitle-icon"></div>
                    ä¿®æ”¹å•†æˆ·å±æ€§ä¿¡æ¯
                </div>

                <div class="form-section">
                    <h2 class="form-title">
                        <div class="form-title-icon"></div>
                        è´¦æˆ·å±æ€§ä¿®æ”¹
                    </h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">è”ç³»äººå§“å *</label>
                            <input type="text" class="form-input" value="å¼ ä¸‰">
                        </div>
                        <div class="form-group">
                            <label class="form-label">è”ç³»äººç”µè¯ *</label>
                            <input type="tel" class="form-input" value="123456789">
                        </div>
                        <div class="form-group">
                            <label class="form-label">è”ç³»äººåœ°å€ *</label>
                            <input type="text" class="form-input" value="ç¦å»ºçœå¦é—¨å¸‚ç¿”å®‰åŒº">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å…é‚®é—¨æ§› *</label>
                            <input type="text" class="form-input" value="20(CNY)">
                        </div>
                        <div class="form-group full-width">
                            <label class="form-label">ä¿®æ”¹è¯´æ˜</label>
                            <textarea class="form-input" rows="3" placeholder="è¯·è¯´æ˜ä¿®æ”¹åŸå› "></textarea>
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button class="btn btn-primary" onclick="submitAttributeModification()">æäº¤å±æ€§ä¿®æ”¹</button>
                        <button class="btn btn-secondary" onclick="showPage('account-info')">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>

            <!-- æš‚åœè´¦æˆ·é¡µé¢ -->
            <div id="suspend-account" class="page">
                <h1 class="page-title">æš‚åœè´¦æˆ·</h1>
                <div class="page-subtitle">
                    <div class="subtitle-icon"></div>
                    æš‚åœå•†æˆ·è´¦æˆ·
                </div>

                <div class="form-section">
                    <h2 class="form-title">
                        <div class="form-title-icon"></div>
                        æš‚åœè´¦æˆ·ç”³è¯·
                    </h2>
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label class="form-label">æš‚åœåŸå›  *</label>
                            <textarea class="form-input" rows="4" placeholder="è¯·è¯¦ç»†è¯´æ˜æš‚åœè´¦æˆ·çš„åŸå› "></textarea>
                        </div>
                        <div class="form-group full-width">
                            <label class="form-label">æš‚åœæœŸé™</label>
                            <select class="form-input">
                                <option value="1">1ä¸ªæœˆ</option>
                                <option value="3">3ä¸ªæœˆ</option>
                                <option value="6">6ä¸ªæœˆ</option>
                                <option value="12">12ä¸ªæœˆ</option>
                                <option value="indefinite">æ— é™æœŸ</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button class="btn btn-warning" onclick="submitAccountSuspension()">æäº¤æš‚åœç”³è¯·</button>
                        <button class="btn btn-secondary" onclick="showPage('account-info')">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>

            <!-- æ³¨é”€è´¦æˆ·é¡µé¢ -->
            <div id="cancel-account" class="page">
                <h1 class="page-title">æ³¨é”€è´¦æˆ·</h1>
                <div class="page-subtitle">
                    <div class="subtitle-icon"></div>
                    æ³¨é”€å•†æˆ·è´¦æˆ·
                </div>

                <div class="form-section">
                    <h2 class="form-title">
                        <div class="form-title-icon"></div>
                        æ³¨é”€ç¡®è®¤
                    </h2>
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label class="form-label">æ³¨é”€åŸå›  *</label>
                            <textarea class="form-input" rows="4" placeholder="è¯·è¯¦ç»†è¯´æ˜æ³¨é”€åŸå› "></textarea>
                        </div>
                        <div class="form-group full-width">
                            <label class="form-label">ç¡®è®¤ä¿¡æ¯</label>
                            <div style="background: #f8d7da; padding: 15px; border-radius: 6px; border: 1px solid #f5c6cb;">
                                <p style="color: #721c24; margin-bottom: 10px;"><strong>âš ï¸ å±é™©æ“ä½œï¼š</strong></p>
                                <ul style="color: #721c24; margin-left: 20px;">
                                    <li>æ­¤æ“ä½œä¸å¯é€†ï¼Œè´¦æˆ·å°†è¢«æ°¸ä¹…åˆ é™¤</li>
                                    <li>æ‰€æœ‰ç›¸å…³æ•°æ®å°†è¢«æ¸…é™¤</li>
                                    <li>è¯·ç¡®ä¿å·²å¤‡ä»½é‡è¦ä¿¡æ¯</li>
                                    <li>è¯·ç¡®ä¿æ‰€æœ‰ä¸šåŠ¡å·²å¦¥å–„å¤„ç†</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button class="btn btn-secondary" onclick="submitAccountCancellation()">ç¡®è®¤æ³¨é”€</button>
                        <button class="btn btn-primary" onclick="showPage('account-info')">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å¼¹çª—ç»„ä»¶ -->
    <div id="modalOverlay" class="modal-overlay">
        <div class="modal">
            <div id="modalIcon" class="modal-icon success">âœ“</div>
            <div id="modalTitle" class="modal-title">æ“ä½œæˆåŠŸ</div>
            <div id="modalMessage" class="modal-message">æ“ä½œå·²å®Œæˆ</div>
            <div class="modal-buttons">
                <button id="modalConfirmBtn" class="modal-btn modal-btn-primary" onclick="hideModal()">ç¡®å®š</button>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentUser = null;
        let selectedRole = null;

        // è§’è‰²é€‰æ‹©åŠŸèƒ½
        function selectRole(role) {
            selectedRole = role;
            
            // å¯ç”¨æˆ–ç¦ç”¨ç™»å½•æŒ‰é’®
            const loginBtn = document.getElementById('loginBtn');
            if (role && role !== '') {
                loginBtn.disabled = false;
                
                // æ›´æ–°æ¬¢è¿æ–‡æœ¬
                const roleNames = {
                    'merchant': 'å•†æˆ·',
                    'service-provider': 'æœåŠ¡å•†',
                    'platform-admin': 'å¹³å°ç®¡ç†äººå‘˜',
                    'repair-provider': 'ç»´ä¿®å•†'
                };
                document.getElementById('welcomeText').textContent = `æ¬¢è¿ä½ ! ${roleNames[role]}`;
            } else {
                loginBtn.disabled = true;
            }
        }

        // ç™»å½•å¤„ç†
        function handleLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            
            if (!selectedRole) {
                showModal('warning', 'è¯·é€‰æ‹©è§’è‰²', 'è¯·å…ˆé€‰æ‹©æ‚¨çš„è§’è‰²ç±»å‹ã€‚', 'âš ');
                return;
            }
            
            if (!username || !password) {
                showModal('warning', 'è¯·å¡«å†™å®Œæ•´ä¿¡æ¯', 'è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚', 'âš ');
                return;
            }
            
            // æ¨¡æ‹Ÿç™»å½•éªŒè¯ - æ”¯æŒå¤šä¸ªæµ‹è¯•è´¦å·
            const validAccounts = [
                { username: 'admin', password: '123456' },
                { username: 'merchant', password: 'merchant123' },
                { username: 'service', password: 'service123' },
                { username: 'platform', password: 'platform123' },
                { username: 'repair', password: 'repair123' },
                { username: 'test', password: 'test123' },
                { username: 'user', password: 'user123' }
            ];
            
            const isValidAccount = validAccounts.some(account => 
                account.username === username && account.password === password
            );
            
            if (isValidAccount) {
                // ç™»å½•æˆåŠŸ
                currentUser = {
                    username: username,
                    role: selectedRole,
                    roleName: {
                        'merchant': 'å•†æˆ·',
                        'service-provider': 'æœåŠ¡å•†',
                        'platform-admin': 'å¹³å°ç®¡ç†äººå‘˜',
                        'repair-provider': 'ç»´ä¿®å•†'
                    }[selectedRole]
                };
                
                showModal('success', 'ç™»å½•æˆåŠŸ', `æ¬¢è¿å›æ¥ï¼Œ${currentUser.roleName}ï¼`, 'âœ“');
                
                setTimeout(() => {
                    hideModal();
                    showMainApp();
                }, 1500);
            } else {
                showModal('warning', 'ç™»å½•å¤±è´¥', 'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•ã€‚\n\næµ‹è¯•è´¦å·ï¼š\nç”¨æˆ·å: admin, å¯†ç : 123456\nç”¨æˆ·å: test, å¯†ç : test123', 'âš ');
            }
        }

        // æ˜¾ç¤ºä¸»åº”ç”¨
        function showMainApp() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('mainApp').style.display = 'flex';
            
            // æ›´æ–°æ¬¢è¿æ–‡æœ¬
            document.getElementById('welcomeText').textContent = `æ¬¢è¿ä½ ! ${currentUser.roleName}`;
            
            // æ˜¾ç¤ºè´¦æˆ·ä¿¡æ¯é¡µé¢
            showPage('account-info');
        }

        // é€€å‡ºç™»å½•
        function logout() {
            if (confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
                currentUser = null;
                selectedRole = null;
                
                // é‡ç½®ç™»å½•è¡¨å•
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                document.getElementById('loginBtn').disabled = true;
                document.getElementById('roleSelect').value = '';
                
                // æ˜¾ç¤ºç™»å½•é¡µé¢
                document.getElementById('mainApp').style.display = 'none';
                document.getElementById('loginPage').style.display = 'flex';
            }
        }

        // å¼¹çª—åŠŸèƒ½
        function showModal(type, title, message, icon = 'âœ“') {
            const modalOverlay = document.getElementById('modalOverlay');
            const modalIcon = document.getElementById('modalIcon');
            const modalTitle = document.getElementById('modalTitle');
            const modalMessage = document.getElementById('modalMessage');
            
            // è®¾ç½®å›¾æ ‡å’Œæ ·å¼
            modalIcon.textContent = icon;
            modalIcon.className = `modal-icon ${type}`;
            
            // è®¾ç½®æ ‡é¢˜å’Œæ¶ˆæ¯
            modalTitle.textContent = title;
            modalMessage.textContent = message;
            
            // æ˜¾ç¤ºå¼¹çª—
            modalOverlay.classList.add('show');
        }

        function hideModal() {
            const modalOverlay = document.getElementById('modalOverlay');
            modalOverlay.classList.remove('show');
        }

        // ç‚¹å‡»é®ç½©å±‚å…³é—­å¼¹çª—
        document.getElementById('modalOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                hideModal();
            }
        });

        // ESCé”®å…³é—­å¼¹çª—
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                hideModal();
            }
        });

        // é¡µé¢åˆ‡æ¢åŠŸèƒ½
        function showPage(pageId) {
            // éšè—æ‰€æœ‰é¡µé¢
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            // æ˜¾ç¤ºç›®æ ‡é¡µé¢
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }
            
            // æ›´æ–°å¯¼èˆªçŠ¶æ€
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            
            // æ ¹æ®é¡µé¢IDè®¾ç½®å¯¹åº”çš„å¯¼èˆªé¡¹ä¸ºæ´»è·ƒçŠ¶æ€
            if (pageId === 'account-opening') {
                navItems[0].classList.add('active'); // å•†æˆ·å¼€æˆ·
            } else if (pageId === 'account-info' || pageId === 'modify-account' || pageId === 'modify-attributes' || 
                pageId === 'account-cancellation' || pageId === 'suspend-account' || pageId === 'cancel-account') {
                navItems[1].classList.add('active'); // ç®¡ç†è´¦å·
            } else if (pageId === 'products' || pageId === 'product-search-results' || pageId === 'apply-new-product' || pageId === 'apply-product-change' || 
                pageId === 'query-product' || pageId === 'modify-product-attributes') {
                navItems[2].classList.add('active'); // ç®¡ç†å•†å“
            }
        }

        // æäº¤å¼€æˆ·ç”³è¯·
        function submitAccountOpening() {
            // è·å–è¡¨å•æ•°æ®
            const merchantName = document.getElementById('merchantName').value.trim();
            const contactName = document.getElementById('contactName').value.trim();
            const contactPhone = document.getElementById('contactPhone').value.trim();
            const merchantAddress = document.getElementById('merchantAddress').value.trim();
            const productLimit = document.getElementById('productLimit').value.trim();
            const employeeLimit = document.getElementById('employeeLimit').value.trim();
            
            // è¡¨å•éªŒè¯
            if (!merchantName || !contactName || !contactPhone || !merchantAddress || !productLimit || !employeeLimit) {
                showModal('warning', 'è¯·å¡«å†™å®Œæ•´ä¿¡æ¯', 'è¯·ç¡®ä¿æ‰€æœ‰å¿…å¡«å­—æ®µéƒ½å·²å¡«å†™å®Œæ•´ã€‚', 'âš ');
                return;
            }
            
            // éªŒè¯æ•°å­—å­—æ®µ
            if (isNaN(productLimit) || isNaN(employeeLimit) || productLimit <= 0 || employeeLimit <= 0) {
                showModal('warning', 'æ•°æ®æ ¼å¼é”™è¯¯', 'å•†å“æ•°ç›®ä¸Šé™å’Œå‘˜å·¥ä¸Šé™å¿…é¡»ä¸ºæ­£æ•´æ•°ã€‚', 'âš ');
                return;
            }
            
            // éªŒè¯æ‰‹æœºå·æ ¼å¼ï¼ˆç®€å•éªŒè¯ï¼‰
            const phoneRegex = /^1[3-9]\d{9}$/;
            if (!phoneRegex.test(contactPhone)) {
                showModal('warning', 'æ‰‹æœºå·æ ¼å¼é”™è¯¯', 'è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç æ ¼å¼ã€‚', 'âš ');
                return;
            }
            
            // æ˜¾ç¤ºæˆåŠŸå¼¹çª—
            showModal('success', 'å¼€æˆ·ç”³è¯·æäº¤æˆåŠŸ', 'æ‚¨çš„å¼€æˆ·ç”³è¯·å·²æˆåŠŸæäº¤ï¼Œè¯·ç­‰å¾…å¹³å°å®¡æ ¸ã€‚å®¡æ ¸ç»“æœå°†é€šè¿‡ç³»ç»Ÿæ¶ˆæ¯é€šçŸ¥æ‚¨ã€‚', 'âœ“');
            setTimeout(() => {
                hideModal();
                showPage('account-info');
            }, 2000);
        }

        // æäº¤é”€æˆ·ç”³è¯·
        function submitAccountCancellation() {
            // æ˜¾ç¤ºç¡®è®¤å¼¹çª—
            showModal('danger', 'ç¡®è®¤æ³¨é”€è´¦æˆ·', 'æ‚¨ç¡®å®šè¦æ³¨é”€è´¦æˆ·å—ï¼Ÿæ­¤æ“ä½œä¸å¯é€†ï¼Œæ‰€æœ‰æ•°æ®å°†è¢«æ°¸ä¹…åˆ é™¤ã€‚', 'âš ');
            
            // æ›´æ–°æŒ‰é’®
            const confirmBtn = document.getElementById('modalConfirmBtn');
            confirmBtn.textContent = 'ç¡®è®¤æ³¨é”€';
            confirmBtn.className = 'modal-btn modal-btn-secondary';
            confirmBtn.onclick = function() {
                hideModal();
                // æ˜¾ç¤ºæˆåŠŸå¼¹çª—
                setTimeout(() => {
                    showModal('warning', 'æ³¨é”€ç”³è¯·æäº¤æˆåŠŸ', 'æ‚¨çš„è´¦æˆ·æ³¨é”€ç”³è¯·å·²æˆåŠŸæäº¤ï¼Œè¯·ç­‰å¾…å¹³å°å®¡æ ¸ã€‚è¯·æ³¨æ„ï¼šæ­¤æ“ä½œä¸€æ—¦å®¡æ ¸é€šè¿‡å°†ä¸å¯é€†ã€‚', 'âš ');
                    setTimeout(() => {
                        hideModal();
                        showPage('account-info');
                    }, 2000);
                }, 300);
            };
            
            // æ·»åŠ å–æ¶ˆæŒ‰é’®
            const modalButtons = document.querySelector('.modal-buttons');
            if (!document.getElementById('modalCancelBtn')) {
                const cancelBtn = document.createElement('button');
                cancelBtn.id = 'modalCancelBtn';
                cancelBtn.className = 'modal-btn modal-btn-primary';
                cancelBtn.textContent = 'å–æ¶ˆ';
                cancelBtn.onclick = function() {
                    hideModal();
                    // é‡ç½®æŒ‰é’®
                    confirmBtn.textContent = 'ç¡®å®š';
                    confirmBtn.className = 'modal-btn modal-btn-primary';
                    confirmBtn.onclick = hideModal;
                    cancelBtn.remove();
                };
                modalButtons.appendChild(cancelBtn);
            }
        }

        // æäº¤è´¦æˆ·ä¿®æ”¹
        function submitAccountModification() {
            showModal('success', 'è´¦æˆ·ä¿¡æ¯ä¿®æ”¹æˆåŠŸ', 'æ‚¨çš„è´¦æˆ·ä¿¡æ¯ä¿®æ”¹ç”³è¯·å·²æˆåŠŸæäº¤ï¼Œè¯·ç­‰å¾…å¹³å°å®¡æ ¸ã€‚å®¡æ ¸é€šè¿‡åä¿®æ”¹å°†ç”Ÿæ•ˆã€‚', 'âœ“');
            setTimeout(() => {
                hideModal();
                showPage('account-info');
            }, 2000);
        }

        // æäº¤å±æ€§ä¿®æ”¹
        function submitAttributeModification() {
            showModal('success', 'è´¦æˆ·å±æ€§ä¿®æ”¹æˆåŠŸ', 'æ‚¨çš„è´¦æˆ·å±æ€§ä¿®æ”¹å·²æˆåŠŸæäº¤ï¼Œè¯·ç­‰å¾…å¹³å°å®¡æ ¸ã€‚å®¡æ ¸é€šè¿‡åä¿®æ”¹å°†ç”Ÿæ•ˆã€‚', 'âœ“');
            setTimeout(() => {
                hideModal();
                showPage('account-info');
            }, 2000);
        }

        // æäº¤è´¦æˆ·æš‚åœ
        function submitAccountSuspension() {
            showModal('warning', 'è´¦æˆ·æš‚åœç”³è¯·æäº¤æˆåŠŸ', 'æ‚¨çš„è´¦æˆ·æš‚åœç”³è¯·å·²æˆåŠŸæäº¤ï¼Œè¯·ç­‰å¾…å¹³å°å®¡æ ¸ã€‚æš‚åœæœŸé—´æ‚¨çš„è´¦æˆ·å°†æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚', 'âš ');
            setTimeout(() => {
                hideModal();
                showPage('account-info');
            }, 2000);
        }

        // å•†å“ç®¡ç†ç›¸å…³å‡½æ•°
        function toggleBundleOptions(show) {
            const bundleOptions = document.getElementById('bundleOptions');
            bundleOptions.style.display = show ? 'block' : 'none';
        }

        function searchProducts() {
            const searchInput = document.getElementById('productSearchInput').value.trim();
            if (searchInput) {
                // è·³è½¬åˆ°æœç´¢ç»“æœé¡µé¢
                showPage('product-search-results');
                // æ›´æ–°æœç´¢ç»“æœé¡µé¢çš„æœç´¢æ¡†
                document.getElementById('searchResultsInput').value = searchInput;
            } else {
                showModal('warning', 'è¯·è¾“å…¥æœç´¢å…³é”®è¯', 'è¯·åœ¨æœç´¢æ¡†ä¸­è¾“å…¥å•†å“åç§°æˆ–ç¼–å·ã€‚', 'âš ');
            }
        }

        function searchProductsFromResults() {
            const searchInput = document.getElementById('searchResultsInput').value.trim();
            if (searchInput) {
                showModal('success', 'æœç´¢å®Œæˆ', `æ­£åœ¨æœç´¢åŒ…å«"${searchInput}"çš„å•†å“...`, 'ğŸ”');
                // è¿™é‡Œå¯ä»¥æ›´æ–°æœç´¢ç»“æœ
            } else {
                showModal('warning', 'è¯·è¾“å…¥æœç´¢å…³é”®è¯', 'è¯·åœ¨æœç´¢æ¡†ä¸­è¾“å…¥å•†å“åç§°æˆ–ç¼–å·ã€‚', 'âš ');
            }
        }


        function deleteProduct(productId) {
            if (confirm(`ç¡®å®šè¦åˆ é™¤å•†å“ ${productId} å—ï¼Ÿ`)) {
                showModal('success', 'åˆ é™¤æˆåŠŸ', `å•†å“ ${productId} å·²åˆ é™¤ã€‚`, 'âœ“');
            }
        }

        function changePage(direction) {
            showModal('info', 'åˆ†é¡µåŠŸèƒ½', 'åˆ†é¡µåŠŸèƒ½æ¼”ç¤º', 'ğŸ“„');
        }

        function submitNewProduct() {
            const productName = document.getElementById('productName').value.trim();
            const productCategory = document.getElementById('productCategory').value;
            const originalPrice = document.getElementById('originalPrice').value.trim();
            const unit = document.getElementById('unit').value.trim();
            const origin = document.getElementById('origin').value.trim();
            const barcode = document.getElementById('barcode').value.trim();
            const revenueShareRatio = document.getElementById('revenueShareRatio').value.trim();
            
            if (!productName || !productCategory || !originalPrice || !unit || !origin || !barcode || !revenueShareRatio) {
                showModal('warning', 'è¯·å¡«å†™å®Œæ•´ä¿¡æ¯', 'è¯·ç¡®ä¿æ‰€æœ‰å¿…å¡«å­—æ®µéƒ½å·²å¡«å†™å®Œæ•´ã€‚', 'âš ');
                return;
            }
            
            showModal('success', 'ç”³è¯·æäº¤æˆåŠŸ', 'æ‚¨çš„æ–°å¢å•†å“ç”³è¯·å·²æˆåŠŸæäº¤ï¼Œè¯·ç­‰å¾…å¹³å°å®¡æ ¸ã€‚', 'âœ“');
            setTimeout(() => {
                hideModal();
                showPage('products');
            }, 2000);
        }

        function submitProductChange() {
            const selectedProduct = document.getElementById('changeProductSelect').value;
            if (!selectedProduct) {
                showModal('warning', 'è¯·é€‰æ‹©å•†å“', 'è¯·å…ˆé€‰æ‹©è¦å˜æ›´çš„å•†å“ã€‚', 'âš ');
                return;
            }
            
            showModal('success', 'å˜æ›´ç”³è¯·æäº¤æˆåŠŸ', 'æ‚¨çš„å•†å“å˜æ›´ç”³è¯·å·²æˆåŠŸæäº¤ï¼Œè¯·ç­‰å¾…å¹³å°å®¡æ ¸ã€‚', 'âœ“');
            setTimeout(() => {
                hideModal();
                showPage('products');
            }, 2000);
        }

        function queryProducts() {
            const productName = document.getElementById('queryProductName').value.trim();
            const barcode = document.getElementById('queryBarcode').value.trim();
            
            if (!productName && !barcode) {
                showModal('warning', 'è¯·è¾“å…¥æŸ¥è¯¢æ¡ä»¶', 'è¯·è¾“å…¥å•†å“åç§°æˆ–æ¡ç è¿›è¡ŒæŸ¥è¯¢ã€‚', 'âš ');
                return;
            }
            
            // æ¨¡æ‹ŸæŸ¥è¯¢ç»“æœ
            const queryResults = document.getElementById('queryResults');
            const queryResultsBody = document.getElementById('queryResultsBody');
            
            queryResultsBody.innerHTML = `
                <tr>
                    <td>iPhone 15 Pro</td>
                    <td>ç”µå­äº§å“</td>
                    <td>Â¥8,999</td>
                    <td>å°</td>
                    <td>ä¸­å›½</td>
                    <td>1234567890123</td>
                    <td>15%</td>
                    <td><button class="btn-edit" onclick="viewProductDetails('P001')">æŸ¥çœ‹è¯¦æƒ…</button></td>
                </tr>
            `;
            
            queryResults.style.display = 'block';
            showModal('success', 'æŸ¥è¯¢å®Œæˆ', 'æ‰¾åˆ°åŒ¹é…çš„å•†å“ä¿¡æ¯ã€‚', 'âœ“');
        }

        function viewProductDetails(productId) {
            showModal('info', 'å•†å“è¯¦æƒ…', `æ­£åœ¨æŸ¥çœ‹å•†å“ ${productId} çš„è¯¦ç»†ä¿¡æ¯...`, 'ğŸ‘ï¸');
        }

        function submitProductAttributes() {
            const selectedProduct = document.getElementById('modifyProductSelect').value;
            if (!selectedProduct) {
                showModal('warning', 'è¯·é€‰æ‹©å•†å“', 'è¯·å…ˆé€‰æ‹©è¦ä¿®æ”¹çš„å•†å“ã€‚', 'âš ');
                return;
            }
            
            showModal('success', 'å±æ€§ä¿®æ”¹æˆåŠŸ', 'å•†å“å±æ€§ä¿®æ”¹å·²æˆåŠŸæäº¤ã€‚', 'âœ“');
            setTimeout(() => {
                hideModal();
                showPage('products');
            }, 2000);
        }

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            // é»˜è®¤æ˜¾ç¤ºç™»å½•é¡µé¢
            document.getElementById('loginPage').style.display = 'flex';
            document.getElementById('mainApp').style.display = 'none';
        });
    </script>
</body>
</html>
